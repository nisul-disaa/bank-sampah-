<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrasi Bank Sampah</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
</head>
<body>
    <!-- Navbar -->
    <header>
        <a href="index.html" class="logo">
            <img src="assets/img/WhatsApp_Image_2024-11-19_at_20.54.00-removebg-preview.png" alt="Logo">
        </a>
        <div class="bx bx-menu" id="menu-icon"></div>
        <ul class="navbar">
            <li><a href="index.html#tentangkami">tentang kami</a></li>
            <li><a href="registrasi.html">registrasi</a></li>
            <li><a href="kritik saran.html">Kritik & Saran</a></li>
        </ul>
    </header>
        
    section class="container">
            <section class="title">Registrasi bank sampah</div>
            <section class="content">
        <!-- <form action="#"> -->
        <div class="user-details">
        <div class="input-inbox">
        <span class="details">Nama Lengkap</span>
        <input type="text" id ="namaLengkap" name ="namaLengkap" required name="namaLengkap"placeholder="Masukan nama lengkap">
    </div>
        <div class="input-inbox">
        <span class="details">Username</span>
        <input type="text" id ="username" name="username" placeholder="Masukan username">
    </div>
        <div class="input-inbox">
        <span class="details">Email</span>
        <input type="text" id ="email" name="email" placeholder="Masukan email">
    </div>
        <div class="input-inbox">
        <span class="details">alamat</span>
        <input type="text" id = "alamat" name = "alamat" placeholder="Masukan alamat">
    </div>
    <div class="input-inbox">
        <span class="details">jenis Sampah</span>
        <input type="text" id = "jenisSampah" name = "jenisSampah" placeholder="pilih jenis Sampah">
        <button onclick="addData()" type="submit">Submit</button>
    </div>
   
   
    <div class="container mt-5" id="dataSection">
        <h2>Data Registrasi</h2>
        <table class="table table-striped">
        <thead>
            <tr>
                <th>No</th>
            <th>Nama</th>
            <th>Username</th>
            <th>Email</th>
            <th>Alamat</th>
            <th>Jenis Sampah</th>
            <th>Actions</th>
            </tr>
        </thead>
        <tbody id="tableBody">
            <!-- Data will be inserted here -->
        </tbody>
        </table>
    </div>

    <div id="strukContainer">
        <h3>Struk Registrasi</h3>
        <p><strong>Nama Lengkap:</strong> <span id="strukNama"></span></p>
        <p><strong>Username:</strong> <span id="strukUsername"></span></p>
        <p><strong>Email:</strong> <span id="strukEmail"></span></p>
        <p><strong>Alamat:</strong> <span id="strukAlamat"></span></p>
        <p><strong>Jenis Sampah:</strong> <span id="strukJenisSampah"></span></p>
    </div>

    <script>
        let users = [];
        let isEditing = false;
        let currentEditIndex = -1;

        function addData() {
            const Nama = document.getElementById("namaLengkap").value;
            const usernam = document.getElementById("username").value;
            const email = document.getElementById("email").value;
            const alamat = document.getElementById("alamat").value;
            const sampah = document.getElementById("jenisSampah").value;

            if (Nama && usernam && email && alamat && sampah) {
                if (isEditing) {
                    users[currentEditIndex] = { Nama, usernam, email, alamat, sampah };
                    isEditing = false;
                    currentEditIndex = -1;
                } else {
                    users.push({ Nama, usernam, email, alamat, sampah });
                }
                displayStruk(Nama, usernam, email, alamat, sampah);
                clearForm();
                displayData();
            } else {
                alert("Harap isi semua data!");
            }
        }

        function displayStruk(nama, username, email, alamat, sampah) {
            document.getElementById("strukNama").textContent = nama;
            document.getElementById("strukUsername").textContent = username;
            document.getElementById("strukEmail").textContent = email;
            document.getElementById("strukAlamat").textContent = alamat;
            document.getElementById("strukJenisSampah").textContent = sampah;

            // Menampilkan container struk
            document.getElementById("strukContainer").style.display = "block";
        }

        function clearForm() {
            document.getElementById("namaLengkap").value = '';
            document.getElementById("username").value = '';
            document.getElementById("email").value = '';
            document.getElementById("alamat").value = '';
            document.getElementById("jenisSampah").value = '';
        }

        function displayData() {
            const tableBody = document.getElementById("tableBody");
            tableBody.innerHTML = "";
            users.forEach((user, index) => {
                tableBody.innerHTML += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${user.Nama}</td>
                        <td>${user.usernam}</td>
                        <td>${user.email}</td>
                        <td>${user.alamat}</td>
                        <td>${user.sampah}</td>
                        <td>
                            <button onclick="editData(${index})">Edit</button>
                            <button onclick="deleteData(${index})">Simpan</button>
                        </td>
                    </tr>
                `;
            });
        }

        function editData(index) {
            const user = users[index];
            document.getElementById("namaLengkap").value = user.Nama;
            document.getElementById("username").value = user.usernam;
            document.getElementById("email").value = user.email;
            document.getElementById("alamat").value = user.alamat;
            document.getElementById("jenisSampah").value = user.sampah;

            isEditing = true;
            currentEditIndex = index;
        }

        function deleteData(index) {
            users.splice(index, 1);
            displayData();
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script><
<!-- </form> -->
</body>
</html>
